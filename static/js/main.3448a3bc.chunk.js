(this["webpackJsonpefartifacts-front"]=this["webpackJsonpefartifacts-front"]||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/reddit.5df9c3c7.svg"},12:function(e,t,a){e.exports=a.p+"static/media/paypal.f3e24db2.svg"},13:function(e,t,a){e.exports=a.p+"static/media/github-icon.0255bf2c.svg"},14:function(e,t,a){e.exports=a.p+"static/media/facebook.60f532b7.svg"},15:function(e,t,a){e.exports=a.p+"static/media/arrow.7ef87c93.svg"},16:function(e,t,a){e.exports=a(35)},21:function(e,t,a){},22:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(4),r=a.n(l);a(21),a(22);function i(){return Math.floor(-35*Math.random())+36}document.getElementById("bg").style.background="linear-gradient(rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0.75)), url('https://efab.ovh/lvl-bgs/"+i()+".jpg')";a(23);var o=a(10),c=a(2),m={overlay:{zIndex:1045,overflow:"scroll",background:"rgba(0, 0, 0, 0.75)"},content:{position:"absolute",zIndex:1050,top:0,left:0,right:"auto",bottom:"auto",transform:"translate(12.5%, 7.5vh)",color:"white",height:"auto",maxHeight:"85vh",width:"80%",padding:"10px 20px",background:"linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), url('https://efab.ovh/lvl-bgs/"+i()+".jpg')",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll"}},d=Object(c.a)(Object(c.a)({},m),{},{content:Object(c.a)(Object(c.a)({},m.content),{},{width:"auto",maxWidth:"80%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, 7.5vh)"})}),h=a(1),u=a.n(h);class p extends s.Component{render(){return n.a.createElement("div",null,n.a.createElement(u.a,{isOpen:!0,onRequestClose:this.props.handler,style:d},n.a.createElement("div",null,this.props.artifact?n.a.createElement("div",null,n.a.createElement("div",{className:"text-center"},n.a.createElement("h1",{className:"text-center"},this.props.artifact.artifact_name," ",this.props.artifact.art_level),n.a.createElement("img",{className:"text-center",src:this.props.artifact.artifact_img,alt:this.props.artifact.artifact_name})),n.a.createElement("p",{className:"col-12"},"Artifact n\xb0 : ",this.props.artifact.artifact_number),n.a.createElement("p",{className:"col-12"},"Bonus 1 : ",this.props.artifact.bonus1," ",this.props.artifact.race1?this.props.artifact.race1:null),n.a.createElement("p",{className:"col-12"},"Bonus 2 : ",this.props.artifact.bonus2," ",this.props.artifact.race2?this.props.artifact.race2:null)):null)))}}class b extends s.Component{constructor(e){super(e),this.closeArtStats=()=>{this.setState({showArtStats:!1})},this.state={showArtStats:!1},this.closeArtStats=this.closeArtStats.bind(this)}render(){return n.a.createElement("div",null,this.state.showArtStats?n.a.createElement(p,{handler:this.closeArtStats,artifact:this.props.artifact}):null,n.a.createElement("img",{onClick:()=>this.setState({showArtStats:!0}),className:"art-image",src:this.props.artifact.artifact_img,alt:this.props.artifact.artifact_name}))}}class f extends s.Component{constructor(e){super(e),this.closeArtStats=()=>{this.setState({showArtStats:!1})},this.showArts=e=>{if(e)return n.a.createElement("div",{key:e.artifact_number},this.state.showArtStats&&e.artifact_number===this.state.artNumberToShow?n.a.createElement(p,{handler:this.closeArtStats,artifact:e}):null,n.a.createElement("img",{onClick:()=>this.setState({showArtStats:!0,artNumberToShow:e.artifact_number}),className:"art-image mt-2",src:e.artifact_img,alt:e.artifact_name}))},this.setDefaultValue=e=>e||"X",this.filterBonuses=(e,t)=>Object.keys(e).map(a=>{if(a.match(/^bonus/)){var s=e[a.replace("bonus","race")]?" "+e[a.replace("bonus","race")]:"",n=e[a.replace("bonus","value")];return 0===t?[e[a]+s,n]:[n]}return null}).filter(e=>e),this.setRows=(e,t)=>t[0].map((a,s)=>{var l=a[0],r=l.match(/Game Speed|Medals Obtained/)?"table-success":l.match(/Attack Power|Attack Speed|Critical Damage|Critical Strike Rate|Movement Speed/)?"table-danger":l.match(/Open Gold|Quest Upgrade|Unit Upgrade|Gold Acquisition|Quest Time/)?"table-warning":l.match(/HP Of|Defense Power|Revival Time/)?"table-secondary":l.match(/Dungeon Material|Battle Engaging/)?"table-info":"",i=0===s||s%2===0&&3!==e?n.a.createElement("th",{rowSpan:3===e&&0===s?3:2,className:"align-middle table-light"},3===e&&0===s?e+"/"+e:s%2===0?s+2>e?e+"/"+e:s+2+"/"+e:null):null;return n.a.createElement("tr",{key:s},i,n.a.createElement("td",{className:r},this.setDefaultValue(l)),t.map((e,t)=>n.a.createElement("td",{key:e,className:"".concat(r," align-middle bolded")},0!==t?this.setDefaultValue(e[s][0]):this.setDefaultValue(e[s][1]))),function(e,a=4,s=t.length){var l=[];if(s<a)for(var r=s;r<a;r++)l.push(n.a.createElement("td",{key:r,className:"".concat(e," align-middle")},"X"));return l}(r))}),this.createTable=(e,t)=>n.a.createElement(s.Fragment,null,n.a.createElement("table",{className:"table table-striped table-bordered table-dark black-text mt-2"},n.a.createElement("tbody",null,n.a.createElement("tr",{className:"table-light align-middle"},n.a.createElement("th",{style:{width:"10%"}}),n.a.createElement("th",{style:{width:"50%"}},"Bonus"),n.a.createElement("th",{style:{width:"10%"}},"T0"),n.a.createElement("th",{style:{width:"10%"}},"T1"),n.a.createElement("th",{style:{width:"10%"}},"T2"),n.a.createElement("th",{style:{width:"10%"}},"T3")),this.setRows(e,t))),n.a.createElement("table",{className:"table table-bordered table-dark black-text"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"table-success"},"GS/Medals"),n.a.createElement("th",{className:"table-danger"},"Attack"),n.a.createElement("th",{className:"table-warning"},"Economy"),n.a.createElement("th",{className:"table-secondary"},"Defense"),n.a.createElement("th",{className:"table-info"},"Others"))))),this.state={artifacts:[],showArtStats:!1,artNumberToShow:0}}UNSAFE_componentWillMount(){this.setState({artifacts:[this.props.sets[0].artifact1,this.props.sets[0].artifact2,this.props.sets[0].artifact3,this.props.sets[0].artifact4,this.props.sets[0].artifact5,this.props.sets[0].artifact6]})}render(){var e=this.props.sets[0],t=this.props.sets.map((e,t)=>this.filterBonuses(e,t));return n.a.createElement("div",null,n.a.createElement(u.a,{isOpen:!0,onRequestClose:this.props.handler,style:d},n.a.createElement("div",{className:"text-center"},n.a.createElement("h1",null,e.set_name.replace(/ \(\dp\)/g,"")," ",e.artifact1.art_level),e?n.a.createElement("div",{className:"row justify-content-around"},this.state.artifacts.map(this.showArts)):null,this.createTable(e.set_arts_number,t))))}}class g extends s.Component{constructor(e){super(e),this.showArts=e=>{if(e)return n.a.createElement("div",{key:e.artifact_number,className:"col-4"},n.a.createElement(b,{artifact:e}))},this.closeSetStats=()=>{this.setState({showSetStats:!1})},this.state={artifacts:[],selectedSet:null,showSetStats:!1}}UNSAFE_componentWillMount(){this.setState({artifacts:[this.props.set.artifact1,this.props.set.artifact2,this.props.set.artifact3,this.props.set.artifact4,this.props.set.artifact5,this.props.set.artifact6]})}render(){var e=/ \(\dp\)/;return n.a.createElement(s.Fragment,null,this.state.showSetStats?n.a.createElement(f,{handler:this.closeSetStats,sets:this.props.wholeSetForModalStats}):null,n.a.createElement("div",{onClick:()=>this.setState({showSetStats:!0}),className:"text-center bolded bordered white-text mt-2 set-title"},this.props.set.set_tech_name.replace(e,"")),n.a.createElement("div",{className:"text-center white-text mb-2"},this.props.set.set_name.replace(e,"")),n.a.createElement("div",{className:"row justify-content-center"},this.state.artifacts.map(this.showArts)))}}class v extends s.Component{render(){return n.a.createElement("div",null,n.a.createElement(u.a,{isOpen:!0,onRequestClose:this.props.handler,style:d},n.a.createElement("img",{className:"screenshot",src:this.props.canvas?this.props.canvas:this.props.canvasMobile,alt:"Screenshot"})))}}var y=a(11),E=a.n(y),S=a(12),w=a.n(S),N=a(13),k=a.n(N),A=a(14),x=a.n(A);u.a.setAppElement("#root");class _ extends s.Component{constructor(...e){super(...e),this.logoUrl=(e,t,a)=>this.props.isMobile&&"Facebook"===a?n.a.createElement("li",{className:"list-inline-item ".concat("Paypal"!==a?"mr-2":"")},n.a.createElement("div",{className:"efd",onClick:this.props.testFBApp},n.a.createElement("img",{className:"logo align-bottom",src:t,alt:a}))):n.a.createElement("li",{className:"list-inline-item ".concat("Paypal"!==a?"mr-2":"")},n.a.createElement("a",{className:"efd",href:e,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{className:"logo align-bottom",src:t,alt:a})))}render(){var e="https://www.reddit.com/r/EndlessFrontier/comments/bfj756/efab_endless_frontier_artifacts_builder/";return n.a.createElement("div",null,n.a.createElement(u.a,{isOpen:!0,onRequestClose:this.props.handler,style:m},n.a.createElement("div",{className:"text-center"},n.a.createElement("ul",{className:"list-inline mb-1 col px-0"},n.a.createElement("li",{className:"list-inline-item mr-2"},n.a.createElement("a",{className:"efd",href:"https://www.endlessfrontierdata.com/",target:"_blank",rel:"noopener noreferrer"},"EFD")),this.logoUrl(e,E.a,"Reddit"),this.logoUrl(this.props.FBLink,x.a,"Facebook"),this.logoUrl("https://github.com/Rdyx/EF-Artifacts-Builder",k.a,"Github"),this.logoUrl("https://www.paypal.me/rdyx",w.a,"Paypal")),n.a.createElement("h2",{className:"col-12 version-underline pb-2"},"Endless Frontier Artifacts Builder"),n.a.createElement("p",{className:"col-12"},"This builder has been made by Rdyx (Server 1 @ Limitless)."),n.a.createElement("p",{className:"col-12"},"I simply wanted to discover some frameworks and have a user-friendly interface to build sets setups."),n.a.createElement("p",{className:"col-12"},"A special thank to ",n.a.createElement("a",{className:"efd",href:"https://www.endlessfrontierdata.com/",target:"_blank",rel:"noopener noreferrer"},"Endless Frontier Data")," for their data about arts and their artifacts images."),n.a.createElement("p",{className:"col-12"},"Feel free to like EFAB on ",n.a.createElement("a",{className:"efd",href:"https://www.facebook.com/EFABuilder/",target:"_blank",rel:"noopener noreferrer"},"Facebook")," to stay updated about last releases and to contact me."),n.a.createElement("p",{className:"col-12"},"You can also give feedback on ",n.a.createElement("a",{className:"efd",href:e,target:"_blank",rel:"noopener noreferrer"},"Reddit"),", Discord @ ",n.a.createElement("b",{className:"limegreen-text"},"Rdyx#7572")," or directly by mail @ ",n.a.createElement("b",{className:"limegreen-text"},"admin@efab.ovh")),n.a.createElement("p",{className:"col-12"},"Source code is free to read at ",n.a.createElement("a",{className:"efd",href:"https://github.com/Rdyx/EF-Artifacts-Builder",target:"_blank",rel:"noopener noreferrer"},"GitHub")),n.a.createElement("h4",{className:"col-12"},"Thanks for reading, happy building !"),n.a.createElement("p",{className:"col-12 small mb-0"},"If you like this tool and want to support/reward me, feel free to use the ",n.a.createElement("b",null,"Donate")," button ! It will help me for sever costs ! Thanks ! :)"))))}}class B extends s.Component{constructor(...e){super(...e),this.versionMapping=(e,t,a)=>{var s=t-1===a;return n.a.createElement("div",{key:e.number},n.a.createElement("div",{className:"row version-underline pb-0"},n.a.createElement("div",{className:"col-1 mr-2"},n.a.createElement("b",null,n.a.createElement("i",null,e.number))),n.a.createElement("div",{className:"col"},n.a.createElement("b",null,e.title)),n.a.createElement("div",{className:"col-3 col-sm-2 pr-0"},n.a.createElement("b",null,n.a.createElement("i",null,e.date)))),n.a.createElement("div",{className:"row pt-1 ".concat(s?"":"mb-4")},n.a.createElement("div",{className:"col-1"}),n.a.createElement("div",{className:"col-11"},n.a.createElement("ul",{className:"pl-3 ".concat(s?"mb-0":"")},Object.keys(e.content).map((function(t,a){return n.a.createElement("li",{key:e.number+""+a},e.content[t])}))))))}}render(){var e=this.props.versions;return n.a.createElement("div",null,n.a.createElement(u.a,{isOpen:!0,onRequestClose:this.props.handler,style:m},n.a.createElement("div",null,n.a.createElement("div",{className:"row mb-1 pb-2"},n.a.createElement("h2",{className:"col-12 version-underline pb-2 text-center"},"Patch Notes")),e.map((t,a)=>this.versionMapping(t,e.length,a)))))}}var T=[{number:"1.12.2",date:"26th October 2020",title:"Data update & bug fixes.",content:{point1:"Updated sets data & optimiser to take in account 9* sets.",point2:"Fixed some problems with CSS encountered after having updated used librairies."}},{number:"1.12.1",date:"1st June 2020",title:"9* Sets now have 5th level of enhancement, quick fixes.",content:{point1:"9* Sets now have their 5 enhancement levels available.",point2:"Quick fix about artifact modal when an artifact was clicked in the set modal (Clicking on a single artifact was triggering every artifact modal).",point3:"Quick fix about the Reset Summary button which was not resetting properly selected sets in Manual Build mode."}},{number:"1.12.0",date:"17 Mai 2020",title:"New data (9* sets & T2 8*), quick UI improvement.",content:{point1:"9* and T2 8* sets have been added and are now taken in account in automatic build.",point2:"Artifact level is now shown when you click on an artifact (right to its name).",point3:"Slightly modified text search, now taking in account set names and their technical names at the same time."}},{number:"1.11.3",date:"15 Mai 2020",title:"EFAB is back!",content:{point1:"I am glad to announce that EFAB has got some service again! Thank you for your support messages and very sorry for the unconvenience, this happened at a pretty bad time!... I'll try to add the latest data ASAP but it can take some time since it looks like I missed a serious bunch of things!",point2:"Added a slightly improvement to use less bandwith if you already have the latest data available! ;)"}},{number:"1.11.2",date:"30 October 2019",title:"New sets data (Raid 1, Raid 5, Airship sets), bug fix.",content:{point1:"New sets data is available.",point2:"Fixed bug in EFAB presentation modal where Mobile links were all redirecting to EFAB's Facebook page.",point3:"Sorry for being late in this data update, I stopped to play EF some times ago so I lacked about data update. Feel free to contact me directly when some new sets are out so I can update ASAP :)"}},{number:"1.11.1",date:"3 July 2019",title:"New sets data (7* T3 & 8* T1), bug fixes.",content:{point1:"New sets data is available, you can now use 7* T3 and 8* T1! :)",point2:"Summer Airships, Bear Airships and Indian Gods sets are now available.",point3:"Modified GS calculation for easier maintenability.",point4:"Fixed some sets data (airships GS has changed)."}},{number:"1.11.0",date:"21 May 2019",title:"Added sets sorting systems, reworked Settings tab under Help section.",content:{point1:"You can now sorts sets by certain values in the Settings. Available orders are: Number of arts per sets, Alphabetical, GS Amount & Medals amount. More informations about it in the Help section! ;)",point2:"Reworked Settings tab to be less messy and more relevant.",point3:"Added Raid 5 Set (Ancient Frost Civilization raid).",point4:"Based on user feedback, default enhancement mode will now be manual. Should make EFAB easier to use for newcomers! :)"}},{number:"1.10.4",date:"29 April 2019",title:"Changed data storage system, auto-refresh after update.",content:{point1:"The data storage has been changed, app won't be built with data directly anymore. Data is available directly on github (data branch) or in gcloud bucket storage (https://storage.googleapis.com/efab-data-storage/data.json), please notice you won't be able to directly fetch the URL.",point2:"After a new version is out, app should automatically refresh."}},{number:"1.10.2",date:"26 April 2019",title:"Modified FB Button behavior, fixed message when offline.",content:{point1:"Facebook button will now redirect directly the the FB page on the app. Thumbs up for it ! (Safari not supporting it tho...).",point2:"Fixed error message when first time connect and can't get the sets data."}},{number:"1.10.1",date:"25 April 2019",title:"Changed old domain main page, fixed regex bug in search bar, changed splash screen bg color.",content:{point1:"Old URL index has been updated to redirect here automatically (If you have already visited it before, cache and service worker should block it though...).",point2:"Fixed bug while using special characters in search bar.",point3:"Splash screen color (loading screen in app mode on Android) background has been changed to EFAB theme colors."}},{number:"1.10.0",date:"24 April 2019",title:"Added documentation client side, revamped and normalized Modals (styles, content), added patch node modal after update.",content:{point1:'As requested more and more, a freshly new documentation has been added under the "Help" button. Reading it should help you to understand many things about EFAB! ;)',point2:"Revamped and normalized Modals. For easier usage and more aesthetic design.",point4:"Buttons available into documentation to help you find what you want faster.",point3:"Options button has been renamed to Settings. Settings has been separated into tabs, simply click on a button to show which settings are available in it.",point5:"Added a Patch Note modal that will appear after each update. Closing it will hide it untill next update. You will now be aware of changes without even searching for it! :P",point6:"Bug Fixes.",point7:"\u2713\u2713\u2713\u2713\u2713 ADDED THE SACRO SAINT CHECKMARK THAT WAS REQUESTED SINCE SO LONG \u2713\u2713\u2713\u2713\u2713"}},{number:"1.9.0",date:"21 April 2019",title:"New Filter, Mobile Landscape UI fixes, new Reddit link, Modals colors",content:{point1:"New filter available! You can now filter sets by their number of artifacts. I found that sometimes it was annoying to find a specific number of artifacts so this filter should help you (and me) about it! ;D",point2:"Fixed some UI problems if EFAB was used in landscape mode on some mobiles.",point3:"Fixed a bug if you selected a solution N\xb02 (or more) with auto-builder, was not showing the default selection anymore after it.",point4:"Created a new thread on Reddit since the old one went in archived mode, new links available.",point5:"Changed background and modals colors to be more compliant with overall design."}},{number:"1.8.4",date:"15 April 2019",title:"Bug Fix",content:{point1:"Fixed a bug with enhancements and some sets (Nordic & Greek Gods)"}},{number:"1.8.3",date:"13 April 2019",title:"Bug Fixes and minor UI improvements",content:{point1:"Fixed mobile UI bugs.",point2:"Added Endless Frontier Backgrounds to add some color. :)"}},{number:"1.8.2",date:"12 April 2019",title:"UI Reworking/Normalization",content:{point1:"Normalized UI buttons size for better usage and readability on higher resolutions screens."}},{number:"1.8.1",date:"09 April 2019",title:"UI Modifications",content:{point1:"Revamped a bit UI for better readability, may change again based on feedbacks. ;)",point2:"Added Facebook like button to avoid users to search for it."}},{number:"1.8.0",date:"08 April 2019",title:"Sets Enhancements Levels, New Server (!), Facebook Page, New Data System, Summary Reset Button...",content:{point1:"Sets Enhancements Levels are finally out! You can now select which enhancement level you want for a set to get its stats. You will find the corresponding buttons under each sets. Enhancement will apply only if set is full (according to EF).",point2:'In the "Options" button, you will find 2 ways to modify sets enhancements. "Manual" will let you select manually each level while "All" will modify every set at once. Also, the last enhancement level selected with "All" button will keep it as default for future loads! Please notice that changing an enhancement will also modify the set stats in the Summary list.',point3:"Because of some conflicts with old server, I managed to buy a domain and host EFAB directly on the cloud. This should help deploy procedure and make the app loading faster. You should not use the old URL anymore as it will be taken down shortly.",point4:"Because there is no more database, visitor counter has been taken down too (sadly for me!). I don't know if it will come back someday for now.",point5:'This brings us to the "point 5". If you have some interest in EFAB, feel free to give a like to the new Facebook Page. It will help me to track up your interest for EFAB. You can also contact me by this way now! :)',point6:'Sets have been re-ordered, this should make the list a bit less "random". Sets are now ordered like this: Type > Level (stars) > Artifact ID. This means the list should now more reflect how the game evolved.',point7:"There's a new Reset Summary button. Use it for easier list cleaning!",point8:"Some data has been added. Now have the Egyptian Gods sets stats and the FHL SR set + stats.",point9:"A big thanks for you, users! We almost reached the 11000 (!) launches since EFAB starts! I would never have expected it so again, thank you all! :)"}},{number:"1.7.1a",date:"26 January 2019",title:"Auto-builder results system modified, Set Summary modal, Summary Box update and manual/auto swap modified.",content:{point1:'Results from auto-builder has been slightly modified, the base algorithm is still the same but you will now have all results (previously only "best" ones if possible or closest ones) sorted by the art number. This will let you have more choices, even not the most relevant ones, from the results.',point2:"Summary Box slight update, you can now see how much parts a set is using after its technical name.",point3:"You can now have a set stats summary, simply click on its technical name and you'll have a table with its stats. The legend used is from my own appreciation, it may differ for you but it's just there to help you for readability.",point4:"A very big thanks for your feedbacks, as noticed, the algorithm is kicking off sub-parted sets for its final results (too long to explain here), that's why you can sometimes find better compositions than the algorithm when you use some!",point5:"To try to help you build, swaping from auto to manual builder will now keep the solution you're using. That means you can use a \"close\" suggested result and complete it the way you want. When you'll back to auto from manual you will get the inputs filled as you did plus you will know which build you selected before (if you did). Sets you excluded will be kept and tiers filters too.",point6:"Fixed minor bugs, such as using special characters in search field was making EFAB crash before. Now, they are ignored.",point7:"Again, a big thanks for your feedbacks, I try to do as much as i can! :)"}},{number:"1.7.0a",date:"20 January 2019",title:"Another very huge update! Automatic builder is here!",content:{point1:"The Automatic builder to find the bests setups depending on what you need is up! To use it, simply use the inputs at the top of sets boxes. Fill how much artifacts you want to use, the maximum gs you want and build! That's as simple as this!",point2:"The algorithm can find optimised builds and if it's not possible you can also get the closest results it found (or none if you asked something not reachable).",point3:"You can filter which sets' tier you want in the filter list. I.E: you can autobuild with T2 6* and T1 7*",point4:"Every set is counted with its parts. I.E: for BE (R2) set, 2/5, 4/5 AND 5/5 are taken in account in the build. If you disable it, you will also disable every parted bonus.",point5:"You can still use the manual builder, just click on the new button in the top bar.",point6:'You can disable a set from builder by clicking on the "X" at the top of its box.',point7:"This update is still in alpha since I probably can't think about everything that could happens when you try to build. It required many code addition, update and redesigning. This means you can find some bugs. Feel free to report (contacts in EFAB logo)",point8:"If you find a better combination than the algorithm, feel free to report it to me with screens, I will try to check it out.",point9:"The algorithm is based on the Multi-Dimensional Knapsack Problem (MDKP) modified to work with EF constraints."}},{number:"1.6.0",date:"09 January 2019",title:"New major update! New filtering system + some redesign.",content:{point1:'Enhanced filtering system! There is now a button dedicated to show filters, less mess on the main page! You can still use "old" filters and you can now select only sets having the selected bonus! Thanks @xanderbitme for the suggestion on reddit.',point2:"Filters are stackable! ",point3:"From the previous point, you now have filter button in the top bar, when filters are applyed the filter button will turn green and you'll have a reset filter button available.",point4:"Redesigned text input search bar. Will now be bigger and easier to reach on small devices.",point5:"Redesigned Stats Summary box, you can now have a better view of your current stats and also have each set stats next to it.",point6:'Modified modal close system. Previously any click would close it, now if you click on the "textbox" it will keep opened. You have to click outside of it (or press esc) to close it. This will prevent unwanted modal closures.',point7:"Moved the not connected alert out of summary box for computer screen extraction. You will no longer have it on your offline saved setups.",point8:"Removed some forgotten console.log() (Woopsie!)"}},{number:"1.5.2",date:"17 December 2018",title:"Minor bug fix for selected list and stats calculation.",content:{point1:"Fixed bug that was not clearing list properly (previously on index from a weird map(), now properly get index from selected set list based on set name)."}},{number:"1.5.1",date:"16 November 2018",title:"Minor design fixes for mobile/tablet devices.",content:{point1:"Fixed set categories text going out of the box under specific resolutions (ipad mostly)."}},{number:"1.5",date:"15 November 2018",title:"Offline mod, minor changes.",content:{point1:"You can now use EFAB offline! This will require to at least access the app online once then data will be stocked and you'll be able to use everything as usual even if you have no connection!",point2:"Image links added to modal upon EFAB logo."}},{number:"1.4",date:"14 November 2018",title:"Mobile Application prompt, mobile summary list button.",content:{point1:'Your browser should now propose you to "install" EFAB on your mobile! It\'s a simple link to the app but without all the browsers features around like URL bar!',point2:'Mobile button to show summary of selected arts list has changed, it should feel more "natural".'}},{number:"1.3.1",date:"13 November 2018",title:"Minor updates, fixed api public urls, design fixes, donation button.",content:{point1:"Few updates upon back-end (forced HTTPS, public urls).",point2:"Updated different modals sizes.",point3:"Added paypal.me link, if you like this tool feel free to support and reward me! :)"}},{number:"1.3",date:"12 November 2018",title:"Sets selection modified, EFAB infos changed, improved performances.",content:{point1:'Sets selections has been modified, you can now select only 1 set (from same family) at a time. To unselect it, simply click on the "X" above.',point2:"Changed infos in EFAB logo, feel free to send feedbacks directly on Reddit now! :)",point3:"Improved overall performances and accessibility.",point4:"Even if it's not that usefull here since you don't use sensible data, HTTPS in now enabled! Feel safe!"}},{number:"1.2",date:"11 November 2018",title:"Versioning status + arts number sorting.",content:{point1:"Added versioning status to track historical versions, since this is new, starting version is now 1.2.",point2:"From recommendation, summary box is now in a more neutral color and font is black for better readability.",point3:"Added sorting arts number for every sets (I.E previous was 6 2 4, now it's 2 4 6).",point4:"Updated every 7* sets data for new T2!"}}],M=(e,t,a,s)=>n.a.createElement("button",{key:e+"HowToUse",className:"col-".concat(Math.round(12/t)," btn btn-outline-warning mb-1 mt-1 px-0 ").concat(a===e?"btn-success":""),onClick:s},e);class L extends s.Component{constructor(e){super(e),this.state={tabs:["Filters","Enhances","Sets Levels","Sorting"],selectedTab:"Filters"}}render(){var e=this.props.optimiser?this.state.tabs:this.state.tabs.filter(e=>"Set Levels"!==e),t=e.length;return n.a.createElement("div",null,n.a.createElement(u.a,{isOpen:!0,onRequestClose:this.props.handler,style:m},n.a.createElement("div",{className:"row mb-1 version-underline pb-2"},n.a.createElement("h2",{className:"col-12 version-underline pb-2 text-center"},"EFAB Settings"),e.map(e=>M(e,t,this.state.selectedTab,()=>this.setState({selectedTab:e})))),n.a.createElement("div",{className:"row text-center justify-content-center"},"Filters"===this.state.selectedTab?n.a.createElement(s.Fragment,null,n.a.createElement("div",{className:"col-12 col-md-6 mt-2"},n.a.createElement("h3",null,"Category"),this.props.setsTypes),n.a.createElement("div",{className:"col-12 col-md-6 mt-3 mt-sm-0 justify-content-around"},n.a.createElement("h3",null,"Bonus Type"),this.props.bonusTypes,n.a.createElement("div",{className:"row mx-auto"},n.a.createElement("h3",{className:"col-12 mt-2"},"Arts per Set"),this.props.totalArtsPerSet))):"Enhances"===this.state.selectedTab?n.a.createElement("div",{className:"col-12 col-sm-6"},n.a.createElement("h3",{className:"mt-2"},"Sets Enhancement"),n.a.createElement("div",{className:"row mx-auto"},this.props.enhancementMode),n.a.createElement("div",{className:"row mx-auto"},this.props.enhancementLevels)):"Sets Levels"===this.state.selectedTab?n.a.createElement("div",{className:"col-12 col-sm-6"},n.a.createElement("h3",{className:"mt-2"},"Sets Levels"),this.props.setsLevels):n.a.createElement("div",{className:"col-12 col-sm-6"},n.a.createElement("h3",{className:"mt-2"},"Sets Sorting"),this.props.setsSorting))))}}var F=n.a.createElement("div",{className:"row"},n.a.createElement("h2",{className:"col-12 version-underline pb-2 text-center"},"Automatic Builder"),n.a.createElement("ul",null,n.a.createElement("li",null,"Fill the corresponding inputs at the top of the screen and click the ",n.a.createElement("b",null,"Build")," button. The summary list will update and show you the best result the algorithm found based on your conditions."),n.a.createElement("li",null,"Click on the ",n.a.createElement("button",{style:{width:"30px"},className:"text-center text-color personnal-checkbox"},n.a.createElement("i",null,"X"))," or the ",n.a.createElement("button",{style:{width:"30px"},className:"text-center text-color personnal-checkbox"},n.a.createElement("i",null,"V"))," mark above each set to let the auto-builder know if it should take it in account or not."),n.a.createElement("li",null,"You can select the enhancement level of the set, the auto-builder will know how to handle with it, watch the ",n.a.createElement("b",null,"Options")," tab for more info.")),n.a.createElement("h4",{className:"col-12 pb-2"},n.a.createElement("u",null,"Additionnal Informations")),n.a.createElement("ul",null,n.a.createElement("li",null,"Algorithm is working this way:",n.a.createElement("ul",null,n.a.createElement("li",null,"Orders selected sets by a GS/(Number of arts per set) ratio.",n.a.createElement("ul",null,n.a.createElement("li",null,"I.E: +3 T2 Halloween set has 2 artifacts and 44% GS. Its GS/art is 22%."),n.a.createElement("li",null,"I.E2: +3 T2 AR (R1) set has 4 artifacts and 73% GS. Its GS/art is 18.25%, he will be further in the list than the previous example."))),n.a.createElement("li",null,"Takes every set in the previous ordered manner untill GS has been caped (without getting above)"),n.a.createElement("li",null,"Fills the rest with maximum medals possible.")))),n.a.createElement("h4",{className:"col-12 pb-2"},n.a.createElement("u",null,"Tips & Tricks")),n.a.createElement("ul",null,n.a.createElement("li",null,"Based on the Additionnal Informations, if you want to have less GS in your build, don't forget to remove the high GS ratio sets. This way you will ensure to have maximum medals possible.",n.a.createElement("ul",null,n.a.createElement("li",null,"I.E: You have 400% GS, you want to have a bit less around 370%, remove the Airships sets!",n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("i",null,"Why?")),n.a.createElement("li",null,"Because Airships sets have a very high ratio of GS/Art but a medium ratio of Medals/Art!"))))),n.a.createElement("li",null,"Try to play around with the GS value to see if you can find a nice solution around your required GS. Being overcapped is not that much a problem since it will prevent you to swap arts for the next few KLs! ;)"),n.a.createElement("li",null,"You can use the auto-builder to create a base to fill your slots. Feel free to swap to manual-builder to find better combinations.",n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("b",null,"It is even recommended since the algorithm is from my own adaptation and its results can sometimes be pushed further!")))))),I=n.a.createElement("div",{className:"row"},n.a.createElement("h2",{className:"col-12 version-underline pb-2 text-center"},"Manual Builder"),n.a.createElement("ul",null,n.a.createElement("li",null,'For each set you will have a "box". This box contains many buttons and lines:',n.a.createElement("ul",null,n.a.createElement("li",null,"The ",n.a.createElement("button",{style:{width:"30px"},className:"text-center text-color personnal-checkbox"},n.a.createElement("i",null,"X"))," button, selected by default, is showing that the set is not selected."),n.a.createElement("li",null,"You will then find multiple lines (T0, T1, T2...). Each line represents the Tier of the set. You can select the number of arts you want for the tier you want by clicking on the corresponding button (",n.a.createElement("button",{style:{width:"30px"},className:"text-center text-color personnal-checkbox"},"2"),", ",n.a.createElement("button",{style:{width:"30px"},className:"text-center text-color personnal-checkbox"},"4"),", etc...). After a set has been selected, it will appear in the Summary List."),n.a.createElement("li",null,"If enhancement is available for the set, you will have the possibility to select which level of enhancement you want for the set. As in Endless Frontier, enhancement will be taken in account only if you have the whole set selected. For more informations about how enhancement is working, see the Options tab."),n.a.createElement("li",null,'You will then see the "Technical Name" (Abreviation used by players mostly). You can click on it to find more infos about the set such as its stats.'),n.a.createElement("li",null,"Then the real set's name."),n.a.createElement("li",null,"And finally which artifacts are composing the set. You can click on the artifacts to have more info such as their stats.")))),n.a.createElement("h4",{className:"col-12 pb-2"},n.a.createElement("u",null,"Additionnal Informations")),n.a.createElement("ul",null,n.a.createElement("li",null,"When you change a set's enhancement level it will be updated automatically in the summary list."),n.a.createElement("li",null,"In set's informations modal you only have the base stats shown. Enhancement is not taken in account. Simply add it to the summary list to preview it!"),n.a.createElement("li",null,"If you change manually a set's enhancement level, it will be keep even if you swap form auto-builder to manual-builder (and vice-versa)!"))),C=n.a.createElement("div",{className:"row"},n.a.createElement("h2",{className:"col-12 version-underline pb-2 text-center"},"Misc"),n.a.createElement("ul",null,n.a.createElement("li",null,"Feel free to click on the EFAB logo button to find more infos about EFAB, EFAB's related links and me! :)"),n.a.createElement("li",null,"Patch notes are stored in the version number next to the EFAB logo, click on it to see how EFAB evolved during the time!"),n.a.createElement("li",null,"Search bar is used to retrieve sets by their technical names."),n.a.createElement("li",null,n.a.createElement("i",null,"The sets' groups names can be not relevant for you, they mostly come from my guild's mates and me!")),n.a.createElement("li",null,n.a.createElement("i",null,"The sets' technical names can be not relevant for you, they mostly come from my guild's mates and me!")))),O=n.a.createElement("div",{className:"row"},n.a.createElement("h2",{className:"col-12 version-underline pb-2 text-center"},"Filters"),n.a.createElement("ul",null,n.a.createElement("li",null,"You will find 3 filters: Category, Bonus Type and Arts per Set. ",n.a.createElement("ul",null,n.a.createElement("li",null,"Selecting a Category means only sets in this category will be shown in the list."),n.a.createElement("li",null,"Selecting a Bonus Type means only sets with the corresponding stat will be shown in the list."),n.a.createElement("li",null,"Selecting a number of Arts per Set means only sets that have the same number of artifacts as the selection will be shown."),n.a.createElement("li",null,"Each filter is cumulative! I.E: you can show only sets from Raid that have the Game Speed stats and 4 artifacts!"))))),G=n.a.createElement("div",{className:"row"},n.a.createElement("h2",{className:"col-12 version-underline pb-2 text-center"},"Enhancement"),n.a.createElement("ul",null,n.a.createElement("li",null,"There are 2 mods to apply enhancements:",n.a.createElement("ul",null,n.a.createElement("li",null,"Manual mode will let you enhance every set manually on your own."),n.a.createElement("li",null,'"All" mode is more like an automatic mode, it will change every set enhancement in one click.'),n.a.createElement("li",null,n.a.createElement("i",null,"A little trick is to set the overall enhancement with automatic mode and get finer in manual after! ;)")))),n.a.createElement("li",null,'Please notice that if you select +4 in "All" mode, every set will adjust in accordance to its max enhancement possible.'))),R=n.a.createElement("div",{className:"row"},n.a.createElement("h2",{className:"col-12 version-underline pb-2 text-center"},"Sets Levels"),n.a.createElement("ul",null,n.a.createElement("li",null,"This button will appear only in auto-buider mode."),n.a.createElement("li",null,"It will let you chose with which sets levels the auto-builder should work."),n.a.createElement("li",null,"Please notice that you can't change each set level manually."))),D=n.a.createElement("div",{className:"row"},n.a.createElement("h2",{className:"col-12 version-underline pb-2 text-center"},"Sorting"),n.a.createElement("ul",null,n.a.createElement("li",null,"You can sort sets by certain values:",n.a.createElement("ul",null,n.a.createElement("li",null,"Arts per Set: Number of art per set."),n.a.createElement("li",null,"Alphabetical: Alphabetical order based on sets' technical names."),n.a.createElement("li",null,"GS Amount: Game Speed Amount."),n.a.createElement("li",null,"Medals Amount: Bonus Medals Amount."))),n.a.createElement("li",null,"You can sort in two orders:",n.a.createElement("ul",null,n.a.createElement("li",null,"ASC: Ascendant order (A -> Z, 0 -> +n...)."),n.a.createElement("li",null,"DESC: Descendant order (Z -> A, +n -> 0...)."))),n.a.createElement("li",null,"You can cumulate multiple orders.",n.a.createElement("ul",null,n.a.createElement("li",null,"I.E: Clicking on ",n.a.createElement("b",null,"GS Amount DESC")," then on ",n.a.createElement("b",null,"Medals Amount DESC")," will sort sets firstly by their amount of GS and then by their medals in DESC order.",n.a.createElement("ul",null,n.a.createElement("li",null,"50% GS / 1000% Medals -> 50% GS -> 500% Medals -> 30% GS / 1000% Medals..."))))),n.a.createElement("li",null,"To reset the order, simply click on ",n.a.createElement("b",null,"Default"),"."))),P=n.a.createElement("div",{className:"row"},n.a.createElement("h2",{className:"col-12 version-underline pb-2 text-center"},"Share Button"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("i",null,'Please notice this button is only available for "large screens" (> 992px width).')),n.a.createElement("li",null,"Use this button to share easely your summary list! It has been made for! :)"),n.a.createElement("li",null,"Clicking this button will generate an image from the summary list box, just right click -> Copy Image and then paste it wherever you want for fast and easy share!")));class U extends s.Component{constructor(e){super(e),this.state={infoTabs:["Builders","Share List","Settings","Misc"],selectedInfo:"Builders",buildersTabs:["Automatic Builder","Manual Builder"],selectedBuilder:"Automatic Builder",settingsTabs:["Filters","Enhancements","Sets Levels","Sorting"],selectedSetting:"Filters"}}render(){var e=this.state.infoTabs.length,t=this.state.buildersTabs.length,a=this.state.settingsTabs.length;return n.a.createElement("div",null,n.a.createElement(u.a,{isOpen:!0,onRequestClose:this.props.handler,style:m},n.a.createElement("div",{className:"row mb-1 version-underline pb-2"},n.a.createElement("h2",{className:"col-12 version-underline pb-2 text-center"},"How to use EFAB?"),this.state.infoTabs.map(t=>M(t,e,this.state.selectedInfo,()=>this.setState({selectedInfo:t}))),"Builders"===this.state.selectedInfo?this.state.buildersTabs.map(e=>M(e,t,this.state.selectedBuilder,()=>this.setState({selectedBuilder:e}))):null,"Settings"===this.state.selectedInfo?this.state.settingsTabs.map(e=>M(e,a,this.state.selectedSetting,()=>this.setState({selectedSetting:e}))):null),"Builders"===this.state.selectedInfo?"Automatic Builder"===this.state.selectedBuilder?F:I:"Share List"===this.state.selectedInfo?P:"Settings"===this.state.selectedInfo?"Filters"===this.state.selectedSetting?O:"Enhancements"===this.state.selectedSetting?G:"Sets Levels"===this.state.selectedSetting?R:D:C))}}var Y=null===localStorage.getItem("showLastPatchNote")||JSON.parse(localStorage.getItem("showLastPatchNote"));class j extends s.Component{constructor(e){super(e),this.UNSAFE_componentWillMount=()=>{localStorage.setItem("showLastPatchNote",Y),this.setState({showLastPatchNote:Y})},this.closeInfoModal=()=>{this.setState({showInfoModal:!1})},this.closeVersionModal=()=>{this.setState({versionModal:!1})},this.dontShowUntillNextUpdate=()=>{localStorage.setItem("showLastPatchNote",!1),this.setState({showLastPatchNote:!1})},this.closeSettingsModal=()=>{this.setState({settingsModal:!1})},this.closeHowToUse=()=>{this.setState({howToUse:!1})},this.testFBApp=()=>{var e=(new Date).valueOf();setTimeout((function(){(new Date).valueOf()-e>1e3||(window.location="https://www.facebook.com/EFABuilder/")}),950),window.location="fb://page/270195490537651"},this.state={showInfoModal:!1,versionModal:!1,settingsModal:!1,howToUse:!1,showLastPatchNote:!0}}render(){var e=navigator.maxTouchPoints>0,t="https://www.facebook.com/EFABuilder/",a={zIndex:2,width:"63px",height:"40px",border:"none",overflow:"hidden",display:"block"},s=n.a.createElement("iframe",{src:"https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2FEFABuilder&layout=box_count&action=like&colorscheme=dark&size=small&show_faces=false&share=false&appId",style:{zIndex:0,width:"63px",height:"40px",border:"none",overflow:"hidden"},scrolling:"no",frameBorder:"0",title:"EFAB's Facebook Page"});return n.a.createElement("div",null,this.state.showInfoModal?n.a.createElement(_,{handler:this.closeInfoModal,isMobile:e,FBLink:t,testFBApp:()=>this.testFBApp()}):null,this.state.versionModal?n.a.createElement(B,{handler:this.closeVersionModal,versions:T}):null,this.state.showLastPatchNote?n.a.createElement(B,{handler:this.dontShowUntillNextUpdate,versions:[T[0]]}):null,this.state.settingsModal?n.a.createElement(L,{handler:this.closeSettingsModal,setsTypes:this.props.setsTypes,bonusTypes:this.props.bonusTypes,setsLevels:this.props.setsLevels,optimiser:this.props.optimiser,enhancementMode:this.props.enhancementMode,enhancementLevels:this.props.enhancementLevels,totalArtsPerSet:this.props.totalArtsPerSet,setsSorting:this.props.setsSorting}):null,this.state.howToUse?n.a.createElement(U,{handler:this.closeHowToUse}):null,n.a.createElement("nav",{className:"row navbar navbar-dark bg-transparent justify-content-sm-around pt-2 justify-content-center"},n.a.createElement("div",{className:"navbar-brand mx-auto ml-lg-0 d-flex align-items-end justify-content-center mb-1 mb-lg-0"},n.a.createElement("button",{className:"underlined mr-2 big btn-link text-white",onClick:()=>this.setState({showInfoModal:!0})},"EFAB"),n.a.createElement("button",{className:"underlined small btn-link text-white",onClick:()=>this.setState({versionModal:!0})},T[0].number)),n.a.createElement("div",{className:"col-12 d-lg-none"}),this.props.connected?e?n.a.createElement("div",{className:"mb-2 my-sm-0 ml-1 fb-buttons",style:a,onClick:()=>this.testFBApp()},s):n.a.createElement("a",{className:"mb-2 my-sm-0 ml-1 fb-buttons",style:a,scrolling:"no",href:t,target:"_blank",rel:"noopener noreferrer"},s):null,n.a.createElement("a",{href:"https://www.paypal.me/rdyx",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("button",{className:"btn btn-outline-warning mb-2 my-sm-0 ml-1 p-2"},"Donate")),n.a.createElement("button",{className:"btn btn-outline-warning mb-2 my-sm-0 ml-1 p-2",onClick:this.props.swapManualToAutomaticBuilder},this.props.optimiser?"Manual Builder":"Auto Builder"),n.a.createElement("button",{className:"btn btn-outline-warning mb-2 my-sm-0 d-none d-sm-block ml-1 p-2",onClick:this.props.triggerScreenshot},"Share Summary"),n.a.createElement("button",{className:"btn btn-outline-warning mb-2 my-sm-0 ml-1 p-2 ".concat(this.props.setFiltering?"btn-success":""),onClick:()=>this.setState({settingsModal:!0})},"Settings"),n.a.createElement("button",{className:"btn btn-outline-warning mb-2 my-sm-0 ml-1 p-2 ".concat(0===this.props.listLength?"mr-0 mr-sm-1":""),onClick:()=>this.setState({howToUse:!0})},"Help"),this.props.setFiltering?n.a.createElement("button",{className:"btn btn-outline-warning btn-danger mb-2 my-sm-0 d-sm-block ml-1 p-2 ".concat(0===this.props.listLength?"mr-0 mr-sm-1":""),onClick:this.props.resetFilters},"Reset Filters"):null,this.props.listLength>0?n.a.createElement("button",{className:"btn btn-outline-warning mb-2 my-sm-0 p-2 btn-danger mr-sm-1 ml-1",onClick:this.props.resetList},"Reset Summary"):null,n.a.createElement("div",{className:"margin-top col-12 col-sm col-lg-3 pr-0 pl-0"},n.a.createElement("input",{"aria-label":"Search By Set Technical Name",name:"search",id:"search",type:"text",className:"col-xs-12 form-control",placeholder:"Search Sets",alt:"Search Sets",onChange:this.props.searchBySetName,autoComplete:"off"}))))}}class z extends s.Component{constructor(...e){super(...e),this.triggerBuild=e=>13===(e.keyCode||e.which)?document.getElementById("submitBuild").click():null,this.getOptimisedResults=()=>{var e=this.props.getOptimisedResults.length,t=[];return e>1&&this.props.getOptimisedResults[1].sets.length>0&&this.props.getOptimisedResults.map((e,a)=>a>0?t.push(n.a.createElement("div",{key:a,className:"col-12 col-sm-3 text-center p-0 ml-1 mr-1"},n.a.createElement("input",{id:"solution"+a,onChange:this.props.getArrayResult,type:"radio",name:"autoBuilderResult",value:a,checked:a===this.props.optimisedResultSelectedIndex}),n.a.createElement("label",{htmlFor:"solution"+a,className:"col text-color personnal-checkbox mb-2 green-check solution"},"Solution ",a),n.a.createElement("table",{className:"col table table-bordered table-striped personnal-table"},n.a.createElement("tbody",null,n.a.createElement("tr",{className:"result-background"},n.a.createElement("th",null,"Artifacts"),n.a.createElement("th",null,"Game speed"),n.a.createElement("th",null,"Medals")),n.a.createElement("tr",{className:"text-center result-background"},n.a.createElement("th",null,e.totalArts),n.a.createElement("td",null,e.gameSpeed?e.gameSpeed:0),n.a.createElement("td",null,e.medalsBonus?e.medalsBonus:0)))))):null),t}}render(){return n.a.createElement("div",{className:"col-12 col-md-9 left-box mt-2 mb-3"},this.props.optimiser?n.a.createElement(s.Fragment,null,n.a.createElement("div",{className:"row mt-1 mb-2 text-white justify-content-around"},n.a.createElement("label",{className:"col-3 col-sm-2 p-0",htmlFor:"nbArts"},n.a.createElement("span",null,"Artifact Slots"),n.a.createElement("input",{className:"form-control text-center","aria-label":"Maximum number of arts",id:"nbArts",name:"nbArts",type:"number",onChange:this.props.optimiserNbArts,defaultValue:0===this.props.wantedArts?"":this.props.wantedArts,max:100,min:0,placeholder:0,onKeyUp:e=>this.triggerBuild(e)})),n.a.createElement("label",{className:"col-5 col-sm-3 p-0",htmlFor:"maxGS"},n.a.createElement("span",null,"Max Game Speed Wanted"),n.a.createElement("input",{className:"form-control text-center","aria-label":"Maximum game speed",id:"maxGS",name:"maxGS",type:"number",onChange:this.props.optimiserMaxGS,defaultValue:0===this.props.maxGS?"":this.props.maxGS,min:0,placeholder:0,step:25,onKeyUp:e=>this.triggerBuild(e)})),n.a.createElement("button",{id:"submitBuild",className:"col-2 col-sm-3 btn btn-outline-warning",onClick:this.props.startBuild},"Build !")),this.props.getOptimisedResults.length>0?n.a.createElement("div",{className:"row justify-content-center set-border px-3"},this.props.getOptimisedResults[0],this.getOptimisedResults()):null):null,n.a.createElement("div",{className:"row mt-1"},this.props.setsData))}}var W=a(15),H=a.n(W);class J extends s.Component{constructor(e){super(e),this.state={fullStatsMobile:!1}}render(){var e=""!==this.props.offline?n.a.createElement("div",{className:"p-1 small alert-danger"},n.a.createElement("span",{className:"text-center"},this.props.offline)):null,t=n.a.createElement("div",{className:"pl-1 pr-1"},n.a.createElement("table",{className:"table table-bordered table-striped"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Number of arts"),n.a.createElement("th",null,"Total game speed bonus"),n.a.createElement("th",null,"Total bonus medals")),n.a.createElement("tr",{className:"bolded"},n.a.createElement("td",null,this.props.totalNumberOfArts),n.a.createElement("td",null,this.props.gameSpeedBonuses),n.a.createElement("td",null,this.props.bonusMedals)))),n.a.createElement("h3",{className:"col-12 mt-3"},"List of selected sets"),n.a.createElement("table",{className:"table table-bordered table-striped"},n.a.createElement("tbody",null,this.props.selectedList.length>0?this.props.selectedList:n.a.createElement("tr",null,n.a.createElement("th",null,"None")))));return n.a.createElement(s.Fragment,null,n.a.createElement("div",{className:"sticky-top"},n.a.createElement("div",{className:"screenstats bordered row text-center d-block d-md-none pt-3 ".concat(this.state.fullStatsMobile?"full-height":null)},e,n.a.createElement("h1",{className:"col-12"},"Stats Summary"),t),n.a.createElement("div",{className:"col-4 d-block d-md-none arrow ".concat(this.state.fullStatsMobile?"rotate-180":""),onClick:()=>this.setState({fullStatsMobile:!this.state.fullStatsMobile})},n.a.createElement("img",{src:H.a,alt:this.state.fullStatsMobile?"See Less":"See More"}))),n.a.createElement("div",{className:"row"},n.a.createElement(z,{optimiser:this.props.optimiser,setsData:this.props.setsData,optimiserNbArts:this.props.optimiserNbArts,optimiserMaxGS:this.props.optimiserMaxGS,startBuild:this.props.startBuild,getOptimisedResults:this.props.getOptimisedResults,wantedArts:this.props.wantedArts,maxGS:this.props.maxGS,getArrayResult:this.props.getArrayResult,optimisedResultSelectedIndex:this.props.optimisedResultSelectedIndex}),n.a.createElement("div",{className:"not-connected d-none d-md-block",style:{marginTop:this.props.connected?"":"8em"}},e)),n.a.createElement("div",{id:"capture",className:"right-box d-none d-md-block pt-1",style:{marginTop:this.props.connected?"8em":"10em"}},n.a.createElement("h1",{className:"bolded pr-2 pl-2"},"Stats Summary"),t))}}class q extends s.Component{render(){return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"loading bolded white-text"},n.a.createElement("h1",{className:"col-12 mt-5"},"Loading..."),""!==this.props.offline?n.a.createElement("div",{className:"col mt-5"},this.props.offline):null))}}var V=(e,t)=>e+e/2*t,K=(e,t,a,s,n)=>{if(!e)return 0;var l=n.match(/Airship/g)&&"8*"===t;return function(e,t,a,s){return(s?e[2]:t===e[0][0]?e[0]:e[1])[a]}({"6*":{T0:[[15,17,19,0,0,0],[25,28,32,0,0,0]],T1:[[22,25,28,0,0,0],[37,42,47,0,0,0]],T2:[[26,29,33,0,0,0],[45,51,57,0,0,0]],T3:[[27,31,34,0,0,0],[46,52,58,0,0,0]]},"7*":{T0:[[23,26,30,33,0,0],[37,43,48,54,0,0]],T1:[[28,32,36,41,0,0],[38,44,49,55,0,0]],T2:[[30,35,39,44,0,0],[50,58,65,73,0,0]],T3:[[33,41,44,74,0,0],[51,59,66,74,0,0]]},"8*":{T0:[[47,53,60,67,74,0],[0,0,0,0,0,0],[47,53,59,65,73],0],T1:[[51,59,66,74,77,0],[0,0,0,0,0,0],[49,55,61,67,75],0],T2:[[54,62,69,77,80,0],[0,0,0,0,0,0],[52,60,67,75,77],0]},"9*":{T0:[[52,60,67,75,78,81],[51,58,64,71,77,80]],T1:[[55,63,70,78,81,84],[54,62,69,77,80,83]]}}[t][a],e,s,l)},Q=(e,t,a,s,n,l,r,i,o,c,m)=>{function d(t,a,s,n,l){var r={totalArts:0,gameSpeed:0,medalsBonus:0,sets:[]},i=a-1,o=e[t],c=a-o.set_arts_number,m=t>0&&l[t-1][i]||r,d=t>0&&l[t-1][c-1]||r;if(c<0)return m;var h=o.set_name,u=[];if(d.sets=d.sets.filter(e=>e.set_name!==h||(u.push(e),!1)),u[0])return d.sets.push(u[0]),d;var p=m.gameSpeed,b=m.medalsBonus,f=o.calculatedBonusMedals,g=d.totalArts+o.set_arts_number,v=d.gameSpeed+o.calculatedBonusGS,y=d.medalsBonus+o.calculatedBonusMedals;if(v>=p&&y>b&&v<=s&&f>=n){var E=d.sets.slice();return E.push(o),{totalArts:g,gameSpeed:v,medalsBonus:y,sets:E}}return m}function h(e){var t=[];return e.map(e=>t.push(e[e.length-1])),t.sort((e,t)=>e.totalArts>=t.totalArts&&e.gameSpeed>=t.gameSpeed&&e.medalsBonus>=t.medalsBonus?-1:1),t[0]}e=((e,t,a=[],s,n="T3",l="T3",r="T2",i="T1")=>{var o=[];e.map(e=>e.map(e=>{var t=e.setLevel,c=e.artifact1.art_level.replace("*",""),m=e.set_name.replace(/ \(\dp\)/g,"");return c.match(s)&&(t===n&&"6"===c&&-1===a.indexOf(m)||t===l&&"7"===c&&-1===a.indexOf(m)||t===r&&"8"===c&&-1===a.indexOf(m)||t===i&&"9"===c&&-1===a.indexOf(m))?o.push(e):null}));var c=[];return o.map(e=>{var a=t(e,/Game Speed/)?t(e,/Game Speed/):0,s=t(e,/Increase Additional Medals Obtained/)?t(e,/Increase Additional Medals Obtained/):0,n=a/e.set_arts_number,l=e.set_arts_number===e.set_total_arts_number;return a||s?c.push({setType:e.setType,setLevel:e.setLevel,set_name:e.set_name.replace(/ \(\dp\)/g,""),set_tech_name:e.set_tech_name,set_arts_number:e.set_arts_number,set_total_arts_number:e.set_total_arts_number,bonusGS:a,calculatedBonusGS:a?l?K(a,e.artifact1.art_level,e.setLevel,e.enhance_level,e.setType):a:0,bonusMedals:s,calculatedBonusMedals:s?l?V(s,e.enhance_level):s:0,avgGS:n,enhance_level:e.enhance_level?e.enhance_level:0,artifact1:e.artifact1}):null}),c.sort((e,t)=>-1*(e.avgGS-t.avgGS))})(e,n,l,r,i,o,c,m);for(var u=[],p=0;p<=s;p+=50){for(var b=[],f=0;f<e.length;f++){for(var g=[],v=1;v<=t;v++)g.push(d(f,v,a,p,b));b.push(g)}b.length>0?u.push(h(b)):u.push([])}if(!(t>0))return[];u=u.map(e=>JSON.stringify(e));var y=[],E=[];return u.map(e=>-1===E.indexOf(u.indexOf(e))&&null!==e?(E.push(u.indexOf(e)),y.push(JSON.parse(e))):null),y.sort((e,t)=>e.gameSpeed>=t.gameSpeed?-1:1)};function X(e){return"ASC"===e?[1,-1,0]:[-1,1,0]}function Z(e,t){return t(e,/Game Speed/)?t(e,/Game Speed/):0}function $(e,t){return t(e,/Increase Additional Medals Obtained/)?t(e,/Increase Additional Medals Obtained/):0}var ee=(e,t)=>{var a=X(t);return e.sort((e,t)=>e[0].set_total_arts_number>t[0].set_total_arts_number?a[0]:t[0].set_total_arts_number>e[0].set_total_arts_number?a[1]:a[2])},te=(e,t)=>{var a=X(t);return e.sort((e,t)=>e[0].set_tech_name>t[0].set_tech_name?a[0]:t[0].set_tech_name>e[0].set_tech_name?a[1]:a[2])},ae=(e,t,a)=>{var s=X(t);return e.sort((e,t)=>{var n=Z(e[e.length-1],a),l=Z(t[t.length-1],a);return n>l?s[0]:l>n?s[1]:s[2]})},se=(e,t,a)=>{var s=X(t);return e.sort((e,t)=>{var n=$(e[e.length-1],a),l=$(t[t.length-1],a);return n>l?s[0]:l>n?s[1]:s[2]})};class ne extends s.Component{constructor(){super(),this.getDataFromLocalStorage=e=>{var t=JSON.parse(localStorage.getItem("data")).map(t=>t.map(t=>(t.enhance_level=e,t)));return this.setState({data:t,defaultData:t,setTypes:JSON.parse(localStorage.getItem("setTypes")),loading:!1})},this.checkOfflineAndLocalStorage=(e,t)=>localStorage.getItem("data")&&localStorage.getItem("setTypes")?(this.getDataFromLocalStorage(t),this.setState({offline:"You are currently offline, data may be outdated."})):this.setState({offline:e}),this.sortingASCorDESC=(e,t,a=null)=>e.match(/ ASC/)?this.setState({data:t(this.state.data,"ASC",a),sortedBy:e}):this.setState({data:t(this.state.data,"DESC",a),sortedBy:e}),this.sortingMethod=e=>e.match("Arts per Set")?this.sortingASCorDESC(e,ee):e.match("Alphabetical")?this.sortingASCorDESC(e,te):e.match("GS Amount")?this.sortingASCorDESC(e,ae,this.findBonus):e.match("Medals Amount")?this.sortingASCorDESC(e,se,this.findBonus):this.setState({data:this.state.defaultData}),this.sortingButtons=e=>n.a.createElement(s.Fragment,null,n.a.createElement("input",{id:e+"sorting",type:"radio",name:"totalArtsPerSet",value:e+("Default"===e?"":" ASC"),defaultChecked:e+("Default"===e?"":" ASC")===this.state.sortedBy,onClick:e=>this.sortingMethod(e.target.value)}),n.a.createElement("label",{htmlFor:e+"sorting",className:"col mb-2 set-filter-button radio-btn personnal-checkbox green-check filter-modal"},e+("Default"===e?"":" ASC")),"Default"!==e?n.a.createElement(s.Fragment,null,n.a.createElement("input",{id:e+"sortingRevert",type:"radio",name:"totalArtsPerSet",value:e+" DESC",defaultChecked:e+" DESC"===this.state.sortedBy,onClick:e=>this.sortingMethod(e.target.value)}),n.a.createElement("label",{htmlFor:e+"sortingRevert",className:"col mb-2 ml-2 set-filter-button radio-btn personnal-checkbox green-check filter-modal"},e," DESC")):null),this.setsSortingButtons=()=>{var e=[],t=this.state.sorts;e.push(n.a.createElement("div",{key:"Defaultsorting",className:"row mx-auto"},this.sortingButtons("Default")));for(var a=0;a<t.length;a++)e.push(n.a.createElement("div",{key:t[a]+"sorting",className:"row mx-auto"},this.sortingButtons(t[a])));return e},this.resetSummaryState=()=>{this.setState({selectedList:[],totalNumberOfArts:[],gameSpeedBonuses:[],bonusMedals:[]}),document.querySelectorAll(".row.container-fluid.mx-auto>input").forEach(e=>e.checked=!0)},this.handleList=(e,t=null,a,s)=>{var n=/ \(\dp\)/,l=e.set_name.replace(n,""),r=this.state.selectedList,i=r.some(e=>e.set_name.replace(n,"")===l),o=[];r.map(e=>o.push(e.set_name.replace(n,"")));var c=o.indexOf(l);"enhance"===t&&(e.set_arts_number===e.set_total_arts_number&&(e.enhance_level=isNaN(a)?isNaN(e.enhance_level)?0:parseInt(e.enhance_level):parseInt(a,10)),this.changeSetEnhanceLevel(a,s));var m=r[c];if(i||i&&"remove"===t){var d=this.state.selectedList;d.splice(c,1);var h=this.state.totalNumberOfArts;h.splice(c,1);var u=this.state.gameSpeedBonuses;u.splice(c,1);var p=this.state.bonusMedals;p.splice(c,1),this.setState({selectedList:d,totalNumberOfArts:h,gameSpeedBonuses:u,bonusMedals:p})}if("select"===t){var b=e.set_arts_number===e.set_total_arts_number,f=this.findBonus(e,/Increase Additional Medals Obtained/),g=this.findBonus(e,/Game Speed/),v=b?V(f,e.enhance_level):f,y=b?K(g,e.artifact1.art_level,e.setLevel,e.enhance_level,e.setType):g;this.setState(t=>({selectedList:[...t.selectedList,e],totalNumberOfArts:[...t.totalNumberOfArts,e.set_arts_number],gameSpeedBonuses:[...t.gameSpeedBonuses,y],bonusMedals:[...t.bonusMedals,v]}))}else if("enhance"===t&&m){var E=m.set_arts_number===m.set_total_arts_number;m.enhance_level=e.enhance_level;var S=0,w=0;if(isNaN(m.bonusMedals)&&isNaN(m.bonusGS)){var N=this.findBonus(m,/Increase Additional Medals Obtained/),k=this.findBonus(m,/Game Speed/);S=E?V(N,m.enhance_level):N,w=E?K(k,m.artifact1.art_level,m.setLevel,m.enhance_level,m.setType):k}else E&&(m.calculatedBonusMedals=V(m.bonusMedals,m.enhance_level),m.calculatedBonusGS=K(m.bonusGS,m.artifact1.art_level,m.setLevel,m.enhance_level,m.setType));this.setState(e=>({selectedList:[...e.selectedList,m],totalNumberOfArts:[...e.totalNumberOfArts,m.set_arts_number],gameSpeedBonuses:[...e.gameSpeedBonuses,w||m.calculatedBonusGS],bonusMedals:[...e.bonusMedals,S||m.calculatedBonusMedals]}))}},this.handleOptimisedList=(e,t=null)=>{var a=e.set_name.replace(/ \(\dp\)/,""),s=this.state.excludedFromOptimiser.some(e=>e===a);if(s||s&&"remove"===t){var n=this.state.excludedFromOptimiser.indexOf(a),l=this.state.excludedFromOptimiser;l.splice(n,1),this.setState({excludedFromOptimiser:l})}t||this.setState(e=>({excludedFromOptimiser:[...e.excludedFromOptimiser,a]}))},this.sum=e=>{if("[object Array]"!==toString.call(e))return!1;for(var t=0,a=0;a<e.length;a++)isNaN(e[a])||(t+=Number(e[a]));return t},this.findBonus=(e,t)=>{for(var a in e){if(!e.hasOwnProperty(a))return 0;if(/^bonus/.test(a)&&e[a].match(t)){var s=a.replace("bonus","value");return parseInt(e[s],10)}}},this.getSelection=e=>{var t=e.set_arts_number===e.set_total_arts_number,a=isNaN(e.calculatedBonusGS)?t?K(this.findBonus(e,/Game Speed/),e.artifact1.art_level,e.setLevel,e.enhance_level,e.setType):this.findBonus(e,/Game Speed/):e.calculatedBonusGS,s=isNaN(e.calculatedBonusMedals)?t?V(this.findBonus(e,/Increase Additional Medals Obtained/),e.enhance_level):this.findBonus(e,/Increase Additional Medals Obtained/):e.calculatedBonusMedals,l=e.set_tech_name.replace(/ \(\dp\)/g,""),r=!isNaN(e.enhance_level)&&t&&e.enhance_level?"+"+e.enhance_level:"";return n.a.createElement("tr",{key:e.set_name+e.setLevel,className:"text-center"},n.a.createElement("th",{style:{width:"60%"}},r," ",e.setLevel," ",l," - ",e.set_arts_number,"p"),n.a.createElement("td",{style:{width:"15%"}},a||0),n.a.createElement("td",{style:{width:"35%"}},s||0))},this.triggerScreenshot=()=>{o(document.querySelector("#capture")).then(e=>{this.setState({showScreenModal:!0,canvas:e.toDataURL()})})},this.showIfMatch=e=>{var t=e.set_name.toLowerCase().match(this.state.searchBySetName.toLowerCase()),a=e.set_tech_name.toLowerCase().match(this.state.searchBySetName.toLowerCase()),s=e.setType.toLowerCase().match(this.state.searchBySetType.toLowerCase())||"All"===this.state.searchBySetType,n=this.findBonus(e,this.state.filterByBonusType)||"All"===this.state.filterByBonusType,l=e.set_total_arts_number.toString()===this.state.filterByTotalArtsNumber||"All"===this.state.filterByTotalArtsNumber;return(t||a)&&s&&n&&l},this.filterSetsForStatsModal=e=>this.state.data.filter(t=>t[0].set_name.replace(/ \(\dp\)/g,"")===e.set_name.replace(/ \(\dp\)/g,""))[0].filter(t=>t.set_arts_number===e.set_arts_number).sort((e,t)=>e.setLevel>=t.setLevel?1:-1),this.getSets=e=>{var t=[],a=[],l=[],r=[],i=[];e.map(e=>{switch(e.setLevel){case"T0":return a.push(e);case"T1":return l.push(e);case"T2":return r.push(e);case"T3":return i.push(e);default:return null}}),a.length>0&&t.push(a),l.length>0&&t.push(l),r.length>0&&t.push(r),i.length>0&&t.push(i);var o=e[e.length-1],c=this.showIfMatch(o,!1),m=this.filterSetsForStatsModal(o);return n.a.createElement("div",{key:o.set_name,className:"col-md-3 col-6 set-border text-center hovered ".concat(c?"":"d-none")},n.a.createElement("div",{className:"row mt-1"},n.a.createElement("div",{className:"col-2 white-text child"}),n.a.createElement("div",{className:"col-9"},n.a.createElement("div",{className:"row container-fluid mx-auto"},n.a.createElement("input",{id:o.set_name,onClick:()=>this.handleList(o,"remove"),type:"radio",name:o.set_name.replace(/ \(\dp\)/,""),value:o.set_name,defaultChecked:!0}),n.a.createElement("label",{htmlFor:o.set_name,className:"text-center text-color personnal-checkbox red-check w-100"},"\u2717")))),t.map((e,a)=>n.a.createElement(s.Fragment,{key:e[a]?e[a].set_name:e[0].set_name+a},n.a.createElement("div",{className:"row align-items-center"},n.a.createElement("div",{className:"col-2 white-text child"},e[a]?e[a].setLevel:e[0].setLevel),n.a.createElement("div",{className:"col-9"},n.a.createElement("div",{className:"row"},e.map(t=>this.artsNumber(t,e))))),e.map(e=>this.enhancementButtons(e,t)))),n.a.createElement("div",null,n.a.createElement(g,{set:o,wholeSetForModalStats:m})))},this.enhancementButtons=(e,t)=>{var a=/ \(\dp\)/,l=e.artifact1.art_level,r=e.setLevel,i="6*"===l?this.state.enhancementLevels.filter(e=>![3,4,5].includes(e)):"7*"===l?this.state.enhancementLevels.filter(e=>![4,5].includes(e)):"8*"===l?this.state.enhancementLevels.filter(e=>![5].includes(e)):this.state.enhancementLevels,o=this.adaptElvl(e,this.state.enhanceLevel);return e.hasOwnProperty("enhance_level")&&("6*"===l&&"T3"===r||"7*"===l&&"T3"===r||"8*"===l&&"T2"===r||"9*"===l&&"T1"===r)&&e.set_arts_number===e.set_total_arts_number?"Manual"===this.state.enhancementMode?n.a.createElement("div",{key:e+"M"},n.a.createElement("div",{className:"bordered white-text mt-2"},"Enhancement"),n.a.createElement("div",{className:"row p-0 mx-0 col align-items-center"},i.map(l=>n.a.createElement(s.Fragment,{key:l+"enhance"},n.a.createElement("input",{id:e.set_name.replace(a,"")+l+"enhance",type:"radio",name:e.set_name+"enhance",value:l,defaultChecked:l===e.enhance_level,onClick:a=>this.handleList(e,"enhance",a.target.value,t)}),n.a.createElement("label",{htmlFor:e.set_name.replace(a,"")+l+"enhance",className:"col p-0 mt-2 text-center text-color personnal-checkbox green-check"},"+",l))))):n.a.createElement("div",{key:e+"A"},n.a.createElement("div",{className:"text-bolded bordered white-text mt-2"},"Enhancement"),n.a.createElement("div",{className:"row p-0 mx-0 col align-items-center"},i.map(t=>n.a.createElement(s.Fragment,{key:t+"enhance"},n.a.createElement("input",{id:e.set_tech_name+t+"enhance",type:"radio",name:e.set_name+"enhance",value:t,checked:t===o,readOnly:!0}),n.a.createElement("label",{htmlFor:e.set_tech_name+t+"enhance",className:"col p-0 mt-2 text-center text-color personnal-checkbox green-check"},"+",t))))):null},this.getOptimizedSets=e=>{var t=this.state.artsLevelsOptimized,a=this.state.sixStarsSetsOptimized,s=this.state.sevenStarsSetsOptimized,l=this.state.eightStarsSetsOptimized,r=this.state.nineStarsSetsOptimized;if((e=e.filter(e=>{var n=this.findBonus(e,/Game Speed/),i=this.findBonus(e,/Increase Additional Medals Obtained/),o=e.setLevel,c=e.artifact1.art_level.replace("*","");return!(!c.match(t)||!n&&!i)&&((!o.match(a)||"6"!==c)&&((!o.match(s)||"7"!==c)&&((!o.match(l)||"8"!==c)&&!(o.match(r)&&"9"===c))))})).length>0){var i=/ \(\dp\)/,o=e[e.length-1],c=this.showIfMatch(o),m=this.filterSetsForStatsModal(o),d=-1!==this.state.excludedFromOptimiser.indexOf(o.set_name);return n.a.createElement("div",{key:o.set_name,className:"col-md-3 col-6 set-border text-center hovered ".concat(c?"":"d-none")},n.a.createElement("div",{className:"col white-text child"},n.a.createElement("div",{className:"row justify-content-around"},n.a.createElement("input",{id:o.set_name+"x",onClick:()=>this.handleOptimisedList(o),type:"radio",name:o.set_name.replace(i,""),value:o.set_name,defaultChecked:d}),n.a.createElement("label",{htmlFor:o.set_name+"x",className:"col text-center text-color personnal-checkbox red-check"},"\u2717"),n.a.createElement("input",{id:o.set_name+"v",onClick:()=>this.handleOptimisedList(o,"remove"),type:"radio",name:o.set_name.replace(i,""),value:o.set_name,defaultChecked:!d}),n.a.createElement("label",{htmlFor:o.set_name+"v",className:"col ml-2 text-center text-color personnal-checkbox green-check"},"\u2713"))),n.a.createElement("div",null,this.enhancementButtons(o,e)),n.a.createElement("div",null,n.a.createElement(g,{set:o,wholeSetForModalStats:m})))}},this.getSetsTypes=e=>n.a.createElement("div",{key:e},n.a.createElement("input",{id:e+"setType",type:"radio",name:"setType",value:e,defaultChecked:e===this.state.searchBySetType,onClick:e=>this.setState({searchBySetType:e.target.value})}),n.a.createElement("label",{htmlFor:e+"setType",className:"col-12 mb-1 set-filter-button radio-btn personnal-checkbox green-check filter-modal"},e)),this.getBonusTypes=e=>n.a.createElement(s.Fragment,{key:e},n.a.createElement("input",{id:e+"bonusType",type:"radio",name:"bonusType",value:e,defaultChecked:e===this.state.filterByBonusType,onClick:e=>this.setState({filterByBonusType:e.target.value})}),n.a.createElement("label",{htmlFor:e+"bonusType",className:"col-12 mb-1 set-filter-button radio-btn personnal-checkbox green-check filter-modal"},e)),this.optimiserSetSetsLevelsFilter=e=>{var t=e.target.value.split(","),a=t[0],s=t[1];return"6"===a?this.setState({optimiserSixStarsLevel:s}):"7"===a?this.setState({optimiserSevenStarsLevel:s}):"8"===a?this.setState({optimiserEightStarsLevel:s}):"9"===a?this.setState({optimiserNineStarsLevel:s}):null},this.getSetLevels=e=>{for(var t=[],a=6===e||7===e?3:8===e?2:9===e?1:0,l=6===e?this.state.optimiserSixStarsLevel:7===e?this.state.optimiserSevenStarsLevel:8===e?this.state.optimiserEightStarsLevel:9===e?this.state.optimiserNineStarsLevel:0,r=0;r<=a;r++){var i=this.state.setsLevels[r],o=r===a?n.a.createElement("br",null):null;t.push(n.a.createElement(s.Fragment,{key:e+r},n.a.createElement("input",{id:i+e+r,type:"radio",name:e,value:[e,i],defaultChecked:l===i,onClick:e=>this.optimiserSetSetsLevelsFilter(e)}),n.a.createElement("label",{htmlFor:i+e+r,className:"".concat(3===a?"col-3":2===a?"col-4":1===a?"col-6":"col"," mb-1 set-filter-button radio-btn personnal-checkbox green-check filter-modal")},i," ",e,"*"),o))}return t},this.artsPerSetButtons=e=>n.a.createElement(s.Fragment,{key:e+"total arts"},n.a.createElement("input",{id:e+"total arts",type:"radio",name:"totalArtsPerSet",value:e,defaultChecked:e.toString()===this.state.filterByTotalArtsNumber,onClick:e=>this.setState({filterByTotalArtsNumber:e.target.value})}),n.a.createElement("label",{htmlFor:e+"total arts",className:"col mb-2 set-filter-button radio-btn personnal-checkbox green-check filter-modal"},e)),this.getArtsPerSet=()=>{for(var e=[],t=1;t<=this.state.maxArtsPerSet;t++)e.push(this.artsPerSetButtons(t));return e.push(this.artsPerSetButtons("All")),e},this.enhancementMode=e=>n.a.createElement(s.Fragment,{key:e+"enhance"},n.a.createElement("input",{id:e+"enhance",type:"radio",name:"enhancementMode",value:e,defaultChecked:e===this.state.enhancementMode,onClick:e=>this.setState({enhancementMode:e.target.value})}),n.a.createElement("label",{htmlFor:e+"enhance",className:"col mb-1 set-filter-button radio-btn personnal-checkbox green-check filter-modal ".concat("Manual"===e?"mr-2":"")},e)),this.changeDefaultElvl=e=>{var t=this.state.gameSpeedBonuses,a=this.state.bonusMedals,s=parseInt(e.target.value,10);localStorage.setItem("enhanceLevel",s),this.setState({enhanceLevel:s}),"All"===this.state.enhancementMode&&(this.state.data.map(e=>e.map(e=>e.enhance_level=this.adaptElvl(e,s))),this.state.selectedList.map((e,n)=>(e.enhance_level=this.adaptElvl(e,s),e.hasOwnProperty("calculatedBonusMedals")&&e.hasOwnProperty("calculatedBonusGS")&&(e.calculatedBonusMedals=V(e.bonusMedals,e.enhance_level),e.calculatedBonusGS=K(e.bonusGS,e.artifact1.art_level,e.setLevel,e.enhance_level,e.setType)),a[n]=isNaN(e.calculatedBonusMedals)?V(this.findBonus(e,/Increase Additional Medals Obtained/),e.enhance_level):e.calculatedBonusMedals,t[n]=isNaN(e.calculatedBonusGS)?K(this.findBonus(e,/Game Speed/),e.artifact1.art_level,e.setLevel,e.enhance_level,e.setType):e.calculatedBonusGS,this.setState({bonusMedals:a,gameSpeedBonuses:t}),e)))},this.changeSetEnhanceLevel=(e,t)=>{var a=parseInt(e,10);return t[0][0]?t.map(e=>e.map(e=>(this.modifySelectedSet(this.state.selectedList,e,a),e.enhance_level=this.adaptElvl(e,a)))):t.map(e=>(this.modifySelectedSet(this.state.selectedList,e,a),e.enhance_level=this.adaptElvl(e,a)))},this.adaptElvl=(e,t)=>{var a=e.artifact1.art_level;return 5===t?"9*"===a?t:"8*"===a?t-1:"7*"===a?t-2:t-3:4===t?["8*","9*"].includes(a)?t:"7*"===a?t-1:t-2:3===t?["7*","8*","9*"].includes(a)?t:t-1:t},this.modifySelectedSet=(e,t,a)=>{var s=-1;e.map((e,a)=>e.set_name===t.set_name&&e.setLevel===t.setLevel?s=a:null),-1!==s&&(e[s].enhance_level=this.adaptElvl(e[s],a),this.setState({selectedList:e}))},this.enhancementLevels=e=>"All"===this.state.enhancementMode?n.a.createElement(s.Fragment,{key:e+"enhance"},n.a.createElement("input",{id:e+"enhance",type:"radio",name:"enhanceLevel",value:e,defaultChecked:e===this.state.enhanceLevel,onClick:e=>this.changeDefaultElvl(e)}),n.a.createElement("label",{htmlFor:e+"enhance",className:"col mb-1 set-filter-button radio-btn personnal-checkbox green-check filter-modal"},"+",e)):null,this.artsNumber=(e,t)=>{var a=e.enhance_level?e.enhance_level:0;return n.a.createElement("div",{className:"col p-0 ml-1",key:e.set_tech_name},n.a.createElement("input",{id:e.set_name.replace(/ \(\dp\)/,"")+e.set_tech_name+e.setLevel,onClick:this.state.selectedList.includes(e)?null:()=>this.handleList(e,"select",a,t),type:"radio",name:e.set_name.replace(/ \(\dp\)/,""),value:e.set_name,defaultChecked:this.state.selectedList.some(t=>t.set_name===e.set_name.replace(/ \(\dp\)/,"")&&t.set_arts_number===e.set_arts_number&&t.setLevel===e.setLevel)}),n.a.createElement("label",{htmlFor:e.set_name.replace(/ \(\dp\)/,"")+e.set_tech_name+e.setLevel,className:"text-center text-color personnal-checkbox green-check w-100"},e.set_arts_number))},this.startBuild=()=>{var e=this.state.optimiserNbArts,t=Q(this.state.data,e,this.state.optimiserMaxGS,1250,this.findBonus,this.state.excludedFromOptimiser,this.state.artsLevelsOptimized,this.state.optimiserSixStarsLevel,this.state.optimiserSevenStarsLevel,this.state.optimiserEightStarsLevel,this.state.optimiserNineStarsLevel);t=t.sort((e,t)=>e.totalArts>=t.totalArts&&1.1*e.gameSpeed>=t.gameSpeed&&1.05*e.medalsBonus>=t.medalsBonus?-1:1);var a=n.a.createElement("div",{key:"message",className:"col-12 white-text mt-1 mb-2"},e>1&&t[0].totalArts>0?n.a.createElement(s.Fragment,null,n.a.createElement("span",null,"Solution(s) found"),n.a.createElement("br",null),n.a.createElement("span",null,"Don't forget to adapt for race optimisation if needed")):"No solution found");return this.setState({optimisedSets:[a],optimisedResultSelectedIndex:1}),t.map(e=>this.setState(t=>({optimisedSets:[...t.optimisedSets,e]}))),t[0]&&t[0].sets.length>0?this.pushInStates(t[0]):this.resetSummaryState()},this.pushInStates=(e,t)=>(this.resetSummaryState(),e.sets.map(e=>this.setState(a=>({selectedList:[...a.selectedList,e],totalNumberOfArts:[...a.totalNumberOfArts,e.set_arts_number],gameSpeedBonuses:[...a.gameSpeedBonuses,e.calculatedBonusGS],bonusMedals:[...a.bonusMedals,e.calculatedBonusMedals],optimisedResultSelectedIndex:t?parseInt(t,10):1})))),this.getArrayResult=e=>{var t=e.target.value;return this.pushInStates(this.state.optimisedSets[t],t)},this.closeScreenModal=()=>{this.setState({showScreenModal:!1,canvas:null})},this.state={selectedList:[],data:[],excludedFromOptimiser:[],setTypes:[],totalNumberOfArts:[],gameSpeedBonuses:[],bonusMedals:[],bonusTypes:["All","Game Speed","Increase Additional Medals Obtained"],artsLevels:[6,7,8,9],setsLevels:["T0","T1","T2","T3"],artsLevelsOptimized:/[6-9]/g,sixStarsSetsOptimized:/T[0-2]/g,sevenStarsSetsOptimized:/T[0-2]/g,eightStarsSetsOptimized:/T[0-1]/g,nineStarsSetsOptimized:/T[0]/g,enhancementModes:["Manual","All"],enhancementMode:"Manual",enhancementLevels:[0,1,2,3,4,5],enhanceLevel:5,maxArtsPerSet:6,set:null,artifact:null,showScreenModal:!1,canvas:null,canvasMobile:null,searchBySetName:"",searchBySetType:"All",filterByBonusType:"All",filterBySetLevel:"All",filterByTotalArtsNumber:"All",sorts:["Arts per Set","Alphabetical","GS Amount","Medals Amount"],sortedBy:"Default",loading:!1,offline:"",optimiser:!0,optimiserNbArts:0,optimiserMaxGS:0,optimiserSixStarsLevel:"T3",optimiserSevenStarsLevel:"T3",optimiserEightStarsLevel:"T2",optimiserNineStarsLevel:"T1",optimisedSets:[],optimisedResultSelectedIndex:1,connected:!1}}UNSAFE_componentWillMount(){localStorage.getItem("enhanceLevel")||localStorage.setItem("enhanceLevel",5);var e=parseInt(localStorage.getItem("enhanceLevel"),10);this.setState({loading:!0,enhanceLevel:e}),fetch("https://efab.ovh/index.html").then(e=>e.status).then(()=>{var t=localStorage.getItem("versionNumber"),a=T[0].number;this.setState({connected:!0}),t!==a?fetch("https://raw.githubusercontent.com/Rdyx/EF-Artifacts-Builder/data/public/data/data.json").then(e=>e.json()).then(t=>{localStorage.setItem("data",""),localStorage.setItem("setTypes","");for(var s=[],n=[],l=["All"],r=0;r<t.length;){var i=t[r].setType.split(" ");parseInt(i[0],10)<10&&(t[r].setType="0"+t[r].setType);var o=t[r].setType.replace(/\d+ /,"");t[r].enhance_level=this.adaptElvl(t[r],e),l.includes(o)||l.push(o),t[r+1]?(n.push(t[r]),t[r].set_name.match(/(.*)[^ (\dp)]/g)[0]!==t[r+1].set_name.match(/(.*)[^ (\dp)]/g)[0]&&(s.push(n),n=[])):(n.push(t[r]),s.push(n)),r++}s.map(e=>e.sort((e,t)=>e.set_arts_number>t.set_arts_number?1:t.set_arts_number>e.set_arts_number?-1:0).sort((e,t)=>e.setLevel>t.setLevel?1:t.setLevel>e.setLevel?-1:0)),s.sort((e,t)=>t[0].setType.localeCompare(e[0].setType)),localStorage.setItem("data",JSON.stringify(s)),localStorage.setItem("setTypes",JSON.stringify(l)),this.setState({data:JSON.parse(localStorage.getItem("data")),defaultData:JSON.parse(localStorage.getItem("data")),setTypes:JSON.parse(localStorage.getItem("setTypes")),loading:!1}),localStorage.setItem("versionNumber",a)}).catch(()=>{this.checkOfflineAndLocalStorage("There has been a problem while loading data. Please try again later.",e)}):this.getDataFromLocalStorage(e)}).catch(()=>{this.checkOfflineAndLocalStorage("You need to connect at least once to run this app.",e)})}render(){return n.a.createElement("div",{className:"container-fluid text-center"},this.state.loading?n.a.createElement(q,{offline:this.state.offline}):null,this.state.showScreenModal?n.a.createElement(v,{handler:this.closeScreenModal,canvas:this.state.canvas,canvasMobile:this.state.canvasMobile}):null,n.a.createElement(j,{swapManualToAutomaticBuilder:()=>this.setState({optimiser:!this.state.optimiser}),triggerScreenshot:this.triggerScreenshot,searchBySetName:e=>this.setState({searchBySetName:e.target.value.replace(/[^a-zA-Z0-9 ]/g,"")}),setFiltering:"All"!==this.state.searchBySetType||"All"!==this.state.filterByBonusType,setsTypes:this.state.setTypes.map(this.getSetsTypes),bonusTypes:this.state.bonusTypes.map(this.getBonusTypes),optimiser:this.state.optimiser,setsLevels:this.state.artsLevels.map(this.getSetLevels),resetFilters:()=>this.setState({searchBySetType:"All",filterByBonusType:"All"}),listLength:this.state.selectedList.length,resetList:()=>this.resetSummaryState(),enhancementMode:this.state.enhancementModes.map(this.enhancementMode),enhancementLevels:this.state.enhancementLevels.map(this.enhancementLevels),connected:this.state.connected,totalArtsPerSet:this.getArtsPerSet(),setsSorting:this.setsSortingButtons()}),n.a.createElement(J,{totalNumberOfArts:this.sum(this.state.totalNumberOfArts),gameSpeedBonuses:this.sum(this.state.gameSpeedBonuses),bonusMedals:this.sum(this.state.bonusMedals),selectedList:this.state.selectedList.map(this.getSelection),setsData:this.state.optimiser?this.state.data.map(this.getOptimizedSets):this.state.data.map(this.getSets),offline:this.state.offline,optimiser:this.state.optimiser,optimiserNbArts:e=>this.setState({optimiserNbArts:parseInt(e.target.value,10)?parseInt(e.target.value,10):0}),optimiserMaxGS:e=>this.setState({optimiserMaxGS:parseInt(e.target.value,10)?parseInt(e.target.value,10):0}),startBuild:()=>this.startBuild(),wantedArts:this.state.optimiserNbArts,maxGS:this.state.optimiserMaxGS,getOptimisedResults:this.state.optimisedSets,getArrayResult:e=>this.getArrayResult(e),optimisedResultSelectedIndex:this.state.optimisedResultSelectedIndex,connected:this.state.connected}))}}var le=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function re(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{var t=e.installing;t.onstatechange=()=>{var e;"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),localStorage.setItem("showLastPatchNote",!0),t.postMessage("skipWaiting"),navigator.serviceWorker.addEventListener("controllerchange",(function(){e||(e=!0,window.location.reload())}))):console.log("Content is cached for offline use."))}}}).catch(e=>{console.error("Error during service worker registration:",e)})}r.a.render(n.a.createElement(ne,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{var e="".concat(".","/service-worker.js");le?(!function(e){fetch(e).then(t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):re(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):re(e)})}}()}},[[16,1,2]]]);
//# sourceMappingURL=main.3448a3bc.chunk.js.map